CaptchaProcessors.register({captchaType:"tiktok",canBeProcessed:function(e,t){return!!$("#"+e.containerId).length},attachButton:function(e,t,n){e=$("#"+e.containerId);n.css({width:e.find("iframe").outerWidth()+"px"}),e.append(n),t.tiktok_auto_solve&&n.click()},getParams:function(e,t){return e},onSolved:async function(t,n){if(2===parseInt(t.subType)){var[a,e,c,i]=n.split(",").splice(0,4),a=340*parseInt(a)/552,e=212*parseInt(e)/344,c=340*parseInt(c)/552,i=212*parseInt(i)/344,r=document.querySelector("#captcha-verify-image"),s=r.getBoundingClientRect(),o=s.left,s=s.top;r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,clientX:o+a,clientY:s+e})),await new Promise(e=>setTimeout(e,1e3)),r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,clientX:o+c,clientY:s+i})),await new Promise(e=>setTimeout(e,1500)),document.querySelector(".verify-captcha-submit-button").click(),await new Promise(e=>setTimeout(e,3e3))}else if(0===parseInt(t.subType)||1===parseInt(t.subType)){let e;if(0===parseInt(t.subType)){document.querySelector(".captcha_verify_slide--slidebar").clientWidth,document.querySelector(".secsdk-captcha-drag-icon").clientWidth;e=parseInt(n)}else try{var d=document.querySelector("#captcha-verify-image");e=340*parseInt(n)/d.naturalWidth,e=Math.round(e)-6}catch{return void resetCaptchaWidget(t.captchaType,t.widgetId)}let c=document.querySelector(".secsdk-captcha-drag-icon");a=c.getBoundingClientRect();let i=a.left+a.width/2+5,r=a.top+a.height/2+10*Math.random()-5,s=i+e,o=r+10*Math.random(),l=(c.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,clientX:i,clientY:r})),3),u=setInterval(function(){var e=s-i,t=o-r,n=Math.sqrt(e*e+t*t),a=(acceleration_=.1+.1*Math.random(),l=Math.min(l+acceleration_,10),Math.min(l/n,1)),e=(i+=e*a,r+=t*a,new MouseEvent("mousemove",{bubbles:!0,clientX:i,clientY:r}));c.dispatchEvent(e),n<1&&clearInterval(u)},1e3/60);await new Promise(e=>setTimeout(e,3e3)),clearInterval(u),c.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,clientX:i,clientY:r})),await new Promise(e=>setTimeout(e,3e3))}resetCaptchaWidget(t.captchaType,t.widgetId)},onFail:async function(e){document.querySelector(".secsdk_captcha_refresh--text")?.click(),await new Promise(e=>setTimeout(e,2e3)),resetCaptchaWidget(e.captchaType,e.widgetId)},getForm:function(e){return!1},getCallback:function(e){return null}});
