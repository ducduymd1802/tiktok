async function checkClientKey(){var e=await getConfig();e.clientKey&&chrome.runtime.sendMessage({name:"popup",action:"checkClientKey",clientKey:e.clientKey},function(e){var t=document.querySelector("#credit");void 0===e.error?(e=e.response.data.balance,t.innerHTML=e.toFixed(4)+" $",e<=0?t.classList.add("red"):t.classList.remove("red")):(t.innerHTML="0.0000 $",t.classList.add("red"))})}async function initUi(){var e=await getConfig(),t=document.querySelector("#power");const s=t.querySelector(".spinning"),n=t.querySelector(".static"),a=t.querySelector(".btn");e.isPluginEnabled?(n.classList.remove("hidden"),a.classList.remove("off")):a.classList.add("off");let i;t.addEventListener("click",async()=>{clearTimeout(i),s.classList.add("hidden"),n.classList.add("hidden"),a.classList.contains("off")?(a.classList.remove("off"),s.classList.remove("hidden"),await setConfig("isPluginEnabled",!0),i=setTimeout(()=>{s.classList.add("hidden"),n.classList.remove("hidden")},1e3)):(await setConfig("isPluginEnabled",!1),a.classList.add("off"))});document.querySelector('.settings_text[data-settings="clientKey"]');document.querySelector(".save_key").addEventListener("click",async()=>{await checkClientKey()});for(const r of document.querySelectorAll('[data-tabtarget]:not([data-tabtarget=""])'))r.addEventListener("click",()=>{for(const e of document.querySelectorAll(".tab"))e.classList.add("hidden");document.querySelector(`[data-tab="${r.dataset.tabtarget}"]`).classList.remove("hidden")});for(const[l,u]of Object.entries(e)){for(const f of document.querySelectorAll(`.settings_toggle[data-settings="${l}"]`))f.classList.remove("on","off"),f.classList.add(u?"on":"off"),f.addEventListener("click",async()=>{var e=f.classList.contains("off");await setConfig(l,e),f.classList.remove("on","off"),f.classList.add(e?"on":"off")});for(const L of document.querySelectorAll(`.settings_dropdown[data-settings="${l}"]`))L.dataset.value===u&&(L.classList.add("selected"),document.querySelector(L.dataset.displays).innerHTML=L.innerHTML),L.addEventListener("click",async()=>{document.querySelector(`.settings_dropdown.selected[data-settings="${l}"]`)?.classList?.remove("selected");var e=L.dataset.value;await setConfig(l,e),L.classList.add("selected"),document.querySelector(L.dataset.displays).innerHTML=L.innerHTML});for(const m of document.querySelectorAll(`.settings_text[data-settings="${l}"]`))m.value=u,m.addEventListener("input",async()=>{var e=m.value;await setConfig(l,e)})}var c="Version "+chrome.runtime.getManifest().version;for(const y of document.querySelectorAll(".footer")){var o=document.createElement("div"),d=(o.innerHTML=c,document.createElement("div"));d.innerHTML="2023 AchiCaptcha",y.append(o),y.append(d)}await checkClientKey()}document.addEventListener("DOMContentLoaded",initUi);
